# 문서 유사도 네트워크 시각화 구현 TODO

## Phase 1: 백엔드 유사도 계산 모듈 구현
- [ ] `similarity_matrix.py` 모듈 생성
  - [ ] 기존 임베딩 데이터 로드 함수
  - [ ] 코사인 유사도 계산 함수
  - [ ] 유사도 임계값 필터링 (기본값: 0.7)
  - [ ] 네트워크 그래프용 JSON 데이터 구조 생성
- [ ] `vector_search.py` 연동
  - [ ] 기존 임베딩 파이프라인과 통합
  - [ ] 새 문서 추가 시 유사도 매트릭스 업데이트

## Phase 2: 웹 API 확장
- [ ] `server.py` API 엔드포인트 추가
  - [ ] `/api/similarity-graph` - 전체 네트워크 데이터 반환
  - [ ] `/api/similarity-graph/<doc_id>` - 특정 문서 중심 서브그래프
  - [ ] `/api/documents/metadata` - 문서 메타데이터 (제목, 날짜, 크기 등)
- [ ] 성능 최적화
  - [ ] 유사도 매트릭스 캐싱 구현
  - [ ] 대용량 문서 집합 처리 최적화

## Phase 3: 프론트엔드 시각화 구현
- [ ] 시각화 라이브러리 선택 및 설치
  - [ ] D3.js vs vis.js vs Cytoscape.js 비교 검토
  - [ ] 선택된 라이브러리 CDN 또는 로컬 설치
- [ ] 네트워크 그래프 페이지 생성
  - [ ] `frontend/graph-view.html` 기본 레이아웃
  - [ ] 노드 스타일링 (문서 타입별 색상, 크기)
  - [ ] 엣지 스타일링 (유사도에 따른 두께, 투명도)
- [ ] 인터랙션 기능
  - [ ] 노드 클릭 시 문서 내용 미리보기
  - [ ] 노드 드래그 앤 드롭
  - [ ] 줌 인/아웃, 팬 기능

## Phase 4: UI/UX 고도화
- [ ] 필터링 및 검색 기능
  - [ ] 유사도 임계값 슬라이더
  - [ ] 문서 타입별 필터 (STT, 요약, 원본 등)
  - [ ] 날짜 범위 필터
  - [ ] 키워드 검색으로 관련 문서 하이라이트
- [ ] 레이아웃 알고리즘 옵션
  - [ ] Force-directed layout (기본)
  - [ ] Hierarchical layout
  - [ ] Circular layout
- [ ] 클러스터링 시각화
  - [ ] 유사 문서군 자동 그룹화
  - [ ] 클러스터별 색상 구분

## Phase 5: 통합 및 최적화
- [ ] 기존 RecordRoute UI와 통합
  - [ ] 메인 페이지에서 그래프 뷰 접근 링크
  - [ ] 파일 업로드 후 자동 그래프 업데이트
- [ ] 성능 모니터링 및 개선
  - [ ] 대용량 문서 처리 시 응답 시간 측정
  - [ ] 메모리 사용량 최적화
  - [ ] 점진적 로딩 (pagination) 구현

## Phase 6: 추가 기능 (선택적)
- [ ] 문서 간 관계 분석
  - [ ] 가장 중심적인 문서 식별 (centrality analysis)
  - [ ] 문서 클러스터 자동 명명
- [ ] 시계열 분석
  - [ ] 문서 생성 시간에 따른 주제 변화 시각화
  - [ ] 애니메이션으로 문서 네트워크 진화 과정 표시
- [ ] 협업 기능
  - [ ] 문서 간 관계에 대한 사용자 태그 및 메모
  - [ ] 그래프 레이아웃 저장/불러오기

## 기술적 고려사항
- **임계값 설정**: 문서 수에 따른 적정 유사도 임계값 실험 필요
- **성능**: 문서 수가 n개일 때 O(n²) 복잡도, 1000개 문서 시 백만 개 비교 연산
- **메모리**: 임베딩 벡터 및 유사도 매트릭스 메모리 사용량 관리
- **실시간성**: 새 문서 추가 시 점진적 업데이트 vs 전체 재계산

## 우선순위
1. **High**: Phase 1-3 (핵심 기능 구현)
2. **Medium**: Phase 4 (사용성 개선)
3. **Low**: Phase 5-6 (고도화 기능)